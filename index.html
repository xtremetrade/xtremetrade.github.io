<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Xtremetrade - Crypto Dashboard</title>
  <style>
    body { margin:0; font-family: Arial, sans-serif; background:#111; color:#fff; }
    header { background:#1a1a1a; padding:15px; display:flex; justify-content:space-between; align-items:center; }
    header h1 { margin:0; color:#0f9dff; }
    header nav a { color:#fff; margin-left:15px; text-decoration:none; }
    .container { display:flex; height:calc(100vh - 60px); }
    .sidebar { width:35%; overflow-y:auto; background:#141414; padding:10px; }
    .main { flex:1; }
    table { width:100%; border-collapse: collapse; margin-top:10px; }
    th, td { border: 1px solid #333; padding: 8px; text-align: center; }
    th { background:#222; }
    tr:nth-child(even) { background:#1a1a1a; }
    input { width:95%; padding:8px; margin:10px auto; display:block; border:none; border-radius:5px; }
    button { background:#333; color:#fff; padding:10px 20px; margin:15px auto; display:block; border:none; border-radius:5px; cursor:pointer; }
    button:hover { background:#555; }
  </style>
</head>
<body>
  <!-- Navbar -->
  <header>
    <h1>Xtremetrade</h1>
    <nav>
      <a href="#">Home</a>
      <a href="#">Markets</a>
      <a href="#">About</a>
      <a href="#">Login</a>
    </nav>
  </header>

  <!-- Main Layout -->
  <div class="container">
    <!-- Sidebar: Crypto Table -->
    <div class="sidebar">
      <h2 style="text-align:center;">Live Cryptocurrency Prices</h2>
      <input type="text" id="search" placeholder="Search coin...">
      <table>
        <thead>
          <tr>
            <th>Coin</th>
            <th>Price (USD)</th>
            <th>24h</th>
            <th>Market Cap</th>
          </tr>
        </thead>
        <tbody id="crypto-table"></tbody>
      </table>
      <button id="loadMore">Load More</button>
    </div>

    <!-- Main TradingView Chart -->
    <div class="main">
      <div class="tradingview-widget-container" style="height:100%; width:100%;">
        <div id="tradingview_chart" style="height:100%; width:100%;"></div>
      </div>
    </div>
  </div>

  <!-- TradingView Script -->
  <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
  <script>
    new TradingView.widget({
      "width": "100%",
      "height": "100%",
      "symbol": "BINANCE:BTCUSDT",
      "interval": "60",
      "timezone": "Etc/UTC",
      "theme": "dark",
      "style": "1",
      "locale": "en",
      "enable_publishing": false,
      "hide_side_toolbar": false,
      "allow_symbol_change": true,
      "container_id": "tradingview_chart"
    });
  </script>

  <!-- Crypto Prices Script -->
  <script>
    let page = 1;
    async function loadCrypto() {
      let res = await fetch(https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=50&page=${page});
      let data = await res.json();

      let html = "";
      data.forEach(c => {
        html += `
          <tr>
            <td>${c.name} (${c.symbol.toUpperCase()})</td>
            <td>$${c.current_price.toLocaleString()}</td>
            <td style="color:${c.price_change_percentage_24h >= 0 ? 'lime':'red'}">
              ${c.price_change_percentage_24h?.toFixed(2)}%
            </td>
            <td>$${c.market_cap.toLocaleString()}</td>
          </tr>`;
      });
      document.getElementById("crypto-table").innerHTML += html;
    }

    document.getElementById("loadMore").addEventListener("click", () => {
      page++;
      loadCrypto();
    });

    document.getElementById("search").addEventListener("input", function() {
      let filter = this.value.toLowerCase();
      let rows = document.querySelectorAll("#crypto-table tr");
      rows.forEach(row => {
        row.style.display = row.innerText.toLowerCase().includes(filter) ? "" : "none";
      });
    });

    loadCrypto();
  </script>
</body>
</html>

